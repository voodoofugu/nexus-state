"use strict";var E=require("react/jsx-runtime"),u=require("react"),N=Object.defineProperty,x=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))P.call(t,r)&&g(e,r,t[r]);if(x)for(var r of x(t))k.call(t,r)&&g(e,r,t[r]);return e};let f={},S={};try{const e=require("../../nexusConfig");(!e.initialStates||!e.actions)&&console.warn("nexusConfig must export 'initialStates' and 'actions'."),f=e.initialStates,S=e.actions}catch(e){e instanceof Error?console.warn(`Failed to load nexusConfig: ${e.message}`):console.warn("Failed to load nexusConfig: Unknown error occurred.")}function j(e){return function(t,r){const o=r.type,a=r.payload;if(e[o]){const c=e[o];return c.reducer?c.reducer(t,r):l(l({},t),a)}return t}}function m(e){const t=u.useRef(e),r=u.useRef(new Set),o=u.useCallback(()=>t.current,[]),a=u.useCallback(i=>{t.current=l(l({},t.current),i),r.current.forEach(n=>n())},[]),c=u.useCallback(i=>(r.current.add(i),()=>r.current.delete(i)),[]);return{get:o,set:a,subscribe:c}}function F(e,t){const r=m(e);function o(n){return n in r.get()||console.error(`State "${String(n)}" in useNexus not found \u{1F47A}`),u.useSyncExternalStore(r.subscribe,()=>{var s;return(s=r.get()[n])!=null?s:e[n]},()=>e[n])}function a(n){const s=r.get();return n(s)===void 0&&console.error("State in useSelector not found \u{1F47A}"),u.useSyncExternalStore(r.subscribe,()=>n(r.get()),()=>n(e))}function c(n){const s=r.get(),b=t(s,n);s!==b&&r.set(b)}function i(){return u.useSyncExternalStore(r.subscribe,r.get,()=>e)}return{get:o,dispatch:c,getAll:i,selector:a,subscribe:r.subscribe}}const p=u.createContext(null);let d=null;function v({children:e}){const t=j(S),r=F(f,t);return d=r.dispatch,E.jsx(p.Provider,{value:r,children:e})}function y(){const e=u.useContext(p);if(!e)throw new Error("NexusProvider not found \u{1F47A}");return e}function h(e){const t=y();return e?t.get(e):t.getAll()}const w=e=>{const t=y(),r=u.useCallback(e,[e]);return u.useSyncExternalStore(t.subscribe,()=>r(t.getAll()),()=>r(f))};function A(e){if(!d)throw new Error("nexusDispatch is not initialized. Make sure NexusProvider is used \u{1F47A}");d(e)}function C(e){return{reducer:e}}const O={NexusProvider:v,useNexus:h,useSelector:w,nexusDispatch:A,createAction:C};exports.Nexus=O,exports.NexusProvider=v,exports.createAction=C,exports.nexusDispatch=A,exports.useNexus=h,exports.useSelector=w;
